Генератор паролей
=================

1. Описание
-----------
Приложение генерирует пароли в зависимости от заданной пользователем длины и уровня сложности. Сгенерированный пароль хэшируется с использованием алгоритма BCrypt и сохраняется в базу данных PostgreSQL в таблице `password_entries` вместе с информацией о владельце (имя пользователя) и датой создания. Приложение поддерживает два режима работы:
- Консольный режим: пользователь вводит параметры через консоль, после чего генерируется пароль. В консольном режиме также имеется функция проверки пароля – пользователь может ввести пароль для сравнения с тем, что хранится в базе данных.
- REST API: генерация пароля и операции CRUD над сущностями происходят через HTTP-запросы.

2. Функциональные возможности
-----------------------------
Приложение позволяет генерировать три типа паролей:
- Уровень 1: Только цифры.
- Уровень 2: Цифры и буквы.
- Уровень 3: Цифры, буквы и специальные символы.

Перед сохранением в базу данных сгенерированный пароль хэшируется с использованием BCrypt, что обеспечивает безопасность хранения. Хэшированный пароль сохраняется вместе с именем пользователя (owner) и датой создания.

Помимо генерации пароля, реализованы следующие функции:
- CRUD-операции для сущностей:
  - PasswordEntry: создание, чтение, обновление, удаление записей.
  - Tag: реализация связи многие-ко-многим между `PasswordEntry` и `Tag` и выполнение CRUD-операций над тегами.
- Проверка пароля: возможность сравнения введённого пароля с хранимым в базе данных с использованием хэширования BCrypt.

3. Требования
-------------
- Java: версия 17 или выше.
- PostgreSQL: для хранения данных.
- Maven: для сборки и управления зависимостями.
- Spring Boot 3+: основной фреймворк приложения.
- Spring Security Core: для реализации BCrypt хэширования.
- SonarCloud: проект настроен на 0 bugs & 0 code smells.

4. Установка и настройка
------------------------
1. Клонируйте репозиторий и перейдите в директорию проекта.
2. Отредактируйте файл `src/main/resources/application.properties`, указав корректные параметры подключения к базе данных:

       spring.datasource.url=jdbc:postgresql://<host>:<port>/<имя_базы>
       spring.datasource.username=<пользователь>
       spring.datasource.password=<пароль>
       spring.jpa.hibernate.ddl-auto=update
       spring.jpa.show-sql=true
       spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect

   _Пример URL:_
       jdbc:postgresql://localhost:5432/passworddb

3. Соберите и запустите проект через Maven командой:

       mvn spring-boot:run

5. URL-ссылки для работы приложения
------------------------------------
При запуске приложения доступны следующие эндпоинты (например, на локальном сервере по адресу `http://localhost:8080`):

5.1 Генерация пароля
~~~~~~~~~~~~~~~~~~~~~
Генерирует пароль с указанной длиной и уровнем сложности, а затем сохраняет его в базу данных.

    GET http://localhost:8080/api/password/generate?length={длина}&complexity={уровень}&owner={имя_пользователя}

_Параметры:_
- length — длина пароля (от 4 до 30).
- complexity — уровень сложности (1: только цифры, 2: цифры+буквы, 3: цифры+буквы+символы).
- owner — имя владельца (опционально, по умолчанию "unknown").

5.2 Проверка пароля (PasswordController)
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
Проверяет, совпадает ли введённый пароль с тем, что хранится в базе данных для указанного пользователя.

    GET http://localhost:8080/api/password/verify?owner={имя_пользователя}&password={введённый_пароль}

5.3 CRUD-операции для PasswordEntry (PasswordEntryController)
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
- Получение всех записей:

        GET http://localhost:8080/api/password/entries

- Получение записи по ID:

        GET http://localhost:8080/api/password/entries/{id}

- Создание новой записи:

        POST http://localhost:8080/api/password/entries

   _Тело запроса:_ JSON-объект с данными записи.

- Обновление записи:

        PUT http://localhost:8080/api/password/entries/{id}

   _Тело запроса:_ JSON-объект с обновлёнными данными.

- Удаление записи:

        DELETE http://localhost:8080/api/password/entries/{id}

5.4 Проверка пароля с дополнительным параметром `check` (PasswordEntryController)
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
Если параметр `check` равен 1, происходит проверка пароля с использованием хэширования, если 0 – проверка не производится.

    GET http://localhost:8080/api/password/entries/verify?id={id}&plainPassword={пароль}&check=1

_Параметры:_
- id — ID записи.
- plainPassword — пароль для проверки.
- check — значение 0 или 1 (0 – проверка не производится, 1 – проверка выполняется).

6. Пример использования REST API
----------------------------------
Для генерации пароля через REST API выполните GET-запрос по следующему URL:

    http://localhost:8080/api/password/generate?length=12&complexity=2&owner=Ivan

Для проверки пароля:

    http://localhost:8080/api/password/verify?owner=Ivan&password=введённыйПароль

Для работы с записями PasswordEntry используйте соответствующие URL, описанные в разделе 5.3.

7. Проверка паролей с базой данных (консольный режим)
-----------------------------------------------------
После генерации пароля в консольном режиме приложение предлагает опцию проверки пароля. Если выбрать проверку (ввести 1), приложение запросит пароль для сравнения с хранимым значением в базе данных. При совпадении выводится сообщение: "Пароль совпадает с тем, что хранится в БД", иначе – "Пароль не совпадает с тем, что хранится в БД".

Структура:

password_generator_lab2/
│-- src/

│   ├── main/

│   │   ├── java/com/example/passwordgenerator/

│   │   │   ├── config/

│   │   │   │   ├── SecurityConfig.java  

│   │   │   │   ├── AppConfig.java     

│   │   │   ├── controller/

│   │   │   │   ├── PasswordController.java  

│   │   │   ├── model/

│   │   │   │   ├── PasswordEntry.java      

│   │   │   ├── repository/

│   │   │   │   ├── PasswordRepository.java 

│   │   │   ├── service/

│   │   │   │   ├── PasswordService.java     

│   │   │   ├── PasswordGeneratorApplication.java 

│   ├── resources/
│   │   ├── application.properties           
│   │   ├── static/                        
│   │   ├── templates/                       
│   ├── test/java/com/example/passwordgenerator/
│   │   ├── PasswordServiceTest.java         
│   │   ├── PasswordControllerTest.java     
│-- .gitignore                               
│-- pom.xml                                 
│-- README.md                                 

